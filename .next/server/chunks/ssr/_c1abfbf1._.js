module.exports=[88347,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={ACTION_HMR_REFRESH:function(){return k},ACTION_NAVIGATE:function(){return h},ACTION_REFRESH:function(){return g},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return j},PrefetchKind:function(){return m}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g="refresh",h="navigate",i="restore",j="server-patch",k="hmr-refresh",l="server-action";var m=((d={}).AUTO="auto",d.FULL="full",d.TEMPORARY="temporary",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},67009,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},90841,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={dispatchAppRouterAction:function(){return i},useActionQueue:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(46058)._(a.r(72131)),g=a.r(67009),h=null;function i(a){if(null===h)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});h(a)}function j(a){let[b,c]=f.default.useState(a.state);h=b=>a.dispatch(b,c);let d=(0,f.useMemo)(()=>b,[b]);return(0,g.isThenable)(d)?(0,f.use)(d):d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20611,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(72131),e=a.r(88347),f=a.r(90841);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},1722,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},49980,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3752),e=a.i(5050),f=(0,e.createServerReference)("70f12876fc0e134895d97a7ded794efaca2a696c9b",e.callServer,void 0,e.findSourceMapURL,"generateAndSaveArticleAction"),g=a.i(70106);let h=(0,g.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),i=(0,g.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),j=(0,g.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),k=(0,g.default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);var l=a.i(41675),m=a.i(82434),n=a.i(74618),o=a.i(87532);let p={[d.StatusAgente.PENDENTE]:{icon:(0,b.jsx)(i,{size:24,className:"text-gray-400"}),color:"border-gray-700",text:"text-gray-400"},[d.StatusAgente.EXECUTANDO]:{icon:(0,b.jsx)(k,{size:24,className:"text-primary animate-spin"}),color:"border-primary",text:"text-primary"},[d.StatusAgente.CONCLUIDO]:{icon:(0,b.jsx)(h,{size:24,className:"text-secondary"}),color:"border-secondary",text:"text-secondary"},[d.StatusAgente.ERRO]:{icon:(0,b.jsx)(j,{size:24,className:"text-danger"}),color:"border-danger",text:"text-danger"}},q={[d.NomeAgente.CALENDARIO]:(0,b.jsx)(l.Calendar,{size:32}),[d.NomeAgente.ESCRITOR]:(0,b.jsx)(m.Bot,{size:32}),[d.NomeAgente.FORMATADOR]:(0,b.jsx)(m.Bot,{size:32}),[d.NomeAgente.SEO]:(0,b.jsx)(o.Search,{size:32}),[d.NomeAgente.PUBLICADOR]:(0,b.jsx)(n.UploadCloud,{size:32})},r=({agent:a})=>{let{icon:c,color:d,text:e}=p[a.status];return(0,b.jsxs)("div",{className:`bg-gray-800 rounded-lg p-5 border-l-4 transition-all duration-300 ${d} shadow-lg flex flex-col justify-between h-full`,children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("div",{className:"p-3 rounded-full bg-gray-700/50 text-gray-200",children:q[a.name]}),c]}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white mt-4",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:a.description})]}),(0,b.jsxs)("div",{className:"mt-4 flex flex-col justify-end",children:[a.model&&(0,b.jsx)("p",{className:"text-xs text-gray-500 font-mono bg-gray-900 px-2 py-1 rounded w-fit",children:a.model}),(0,b.jsx)("p",{className:`text-sm font-semibold mt-2 ${e}`,children:a.status})]})]})},s=(0,g.default)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),t=({article:a})=>(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 mt-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Pré-visualização do Post Gerado"}),a.published&&(0,b.jsxs)("div",{className:"mt-2 sm:mt-0 flex items-center gap-2 text-sm font-semibold bg-secondary/20 text-secondary px-3 py-1.5 rounded-full",children:[(0,b.jsx)(s,{size:18}),(0,b.jsx)("span",{children:"Publicado com Sucesso"})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h1",{className:"text-3xl lg:text-4xl font-extrabold text-white",children:a.title}),(0,b.jsxs)("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-4 space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg text-white",children:"Metadados de SEO"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-gray-300",children:"Meta Description"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 italic mt-1",children:a.metaDescription})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-gray-300",children:"Palavras-chave"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:a.keywords?.map((a,c)=>(0,b.jsx)("span",{className:"bg-primary/20 text-primary text-xs font-semibold px-2.5 py-1 rounded-full",children:a},c))})]})]}),a.formattedContent&&(0,b.jsx)("div",{className:"text-gray-300",dangerouslySetInnerHTML:{__html:a.formattedContent}})]})]}),u=(0,g.default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),v=[{name:d.NomeAgente.CALENDARIO,description:"Busca o tópico da notícia de hoje no calendário.",status:d.StatusAgente.PENDENTE},{name:d.NomeAgente.ESCRITOR,description:"Escreve o artigo de notícia com base no tópico.",status:d.StatusAgente.PENDENTE,model:"gemini-2.5-pro"},{name:d.NomeAgente.FORMATADOR,description:"Formata o artigo em HTML estilizado.",status:d.StatusAgente.PENDENTE,model:"gemini-2.5-flash"},{name:d.NomeAgente.SEO,description:"Analisa o SEO e extrai metadados.",status:d.StatusAgente.PENDENTE,model:"gemini-2.5-flash"},{name:d.NomeAgente.PUBLICADOR,description:"Salva o artigo final no banco de dados.",status:d.StatusAgente.PENDENTE}];a.s(["default",0,({language:a="Português",focusKeywords:e="",onArticleGenerated:g})=>{let[h,i]=(0,c.useState)(v),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),p=(0,c.useCallback)((a,b)=>{console.log(`[Dashboard] 🧩 Atualizando status do agente ${a} → ${b}`),i(c=>c.map(c=>c.name===a?{...c,status:b}:c))},[]),q=(0,c.useCallback)(()=>{console.log("[Dashboard] 🔄 Resetando estado inicial do pipeline..."),i(v),k(!1),m(null),o(null)},[]),s=(0,c.useCallback)(async()=>{console.group("🚀 [Dashboard] Iniciando pipeline de geração de notícia"),q(),k(!0);try{console.log("[Dashboard] 🗓️ Iniciando sincronização com Google Calendar..."),p(d.NomeAgente.CALENDARIO,d.StatusAgente.EXECUTANDO);let b=await fetch("/api/calendar/today"),c=await b.json();console.log("[Dashboard] 📅 Resposta do endpoint /api/calendar/today:",c);let h=c?.events?.[0];if(!h)throw Error("Nenhum evento encontrado para hoje.");let i=h.start?.dateTime||h.start?.date||h.start||h.startTime||h.start_date,j="";try{j=new Date(i).toISOString().split("T")[0]}catch{console.warn("[Dashboard] ⚠️ Data inválida recebida do evento:",i),j=new Date().toISOString().split("T")[0]}let k={summary:h.title||"Evento sem título",date:j};console.log("[Dashboard] ✅ Evento identificado:",k),m(k),p(d.NomeAgente.CALENDARIO,d.StatusAgente.CONCLUIDO),console.log("[Dashboard] ✍️ Iniciando geração do artigo..."),p(d.NomeAgente.ESCRITOR,d.StatusAgente.EXECUTANDO);let l=await f(k.summary,a,e);console.log("[Dashboard] ✅ Artigo gerado com sucesso:",l),p(d.NomeAgente.ESCRITOR,d.StatusAgente.CONCLUIDO),console.log("[Dashboard] 🎨 Formatando artigo em HTML..."),p(d.NomeAgente.FORMATADOR,d.StatusAgente.EXECUTANDO),await new Promise(a=>setTimeout(a,100)),p(d.NomeAgente.FORMATADOR,d.StatusAgente.CONCLUIDO),console.log("[Dashboard] 🔍 Iniciando análise SEO..."),p(d.NomeAgente.SEO,d.StatusAgente.EXECUTANDO),await new Promise(a=>setTimeout(a,100)),p(d.NomeAgente.SEO,d.StatusAgente.CONCLUIDO),console.log("[Dashboard] 💾 Publicando artigo..."),p(d.NomeAgente.PUBLICADOR,d.StatusAgente.CONCLUIDO),o(l),g&&(console.log("[Dashboard] 📤 Chamando callback onArticleGenerated..."),g(l)),console.log("[Dashboard] 🎉 Pipeline finalizado com sucesso!")}catch(b){console.error("[Dashboard] ❌ Erro durante o processo de geração:",b);let a=h.find(a=>a.status===d.StatusAgente.EXECUTANDO);a?(console.log(`[Dashboard] ⚠️ Definindo agente com erro: ${a.name}`),p(a.name,d.StatusAgente.ERRO)):(console.warn("[Dashboard] ⚠️ Nenhum agente em execução detectado no momento do erro."),p(d.NomeAgente.ESCRITOR,d.StatusAgente.ERRO))}finally{k(!1),console.groupEnd()}},[q,p,a,e,g,h]),w=(0,c.useMemo)(()=>h.every(a=>a.status===d.StatusAgente.CONCLUIDO),[h]);return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Painel de Geração de Notícias"}),(0,b.jsx)("p",{className:"mt-2 text-gray-400",children:"Automatize seu pipeline diário de criação de notícias."})]}),(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Pipeline de Automação Diária"}),(0,b.jsx)("p",{className:"text-gray-400 mt-1",children:l?`T\xf3pico de Hoje: "${l.summary}"`:"Clique em iniciar para começar o processo."})]}),(0,b.jsxs)("button",{onClick:s,disabled:j,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 font-semibold text-white bg-primary rounded-lg shadow-md hover:bg-primary-hover disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors duration-200",children:[(0,b.jsx)(u,{size:20}),(0,b.jsx)("span",{children:j?"Processando...":"Iniciar Geração Diária"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:h.map(a=>(0,b.jsx)(r,{agent:a},a.name))}),n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mt-10",children:"Artigo Gerado"}),(0,b.jsx)(t,{article:n})]}),w&&(0,b.jsx)("p",{className:"text-center text-green-400 font-semibold",children:"✅ Todos os agentes concluíram o processo com sucesso!"})]})}],49980)}];

//# sourceMappingURL=_c1abfbf1._.js.map