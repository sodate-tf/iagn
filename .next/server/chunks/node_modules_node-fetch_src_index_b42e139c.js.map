{"version":3,"sources":["turbopack:///[project]/node_modules/node-fetch/src/utils/is.js","turbopack:///[project]/node_modules/node-fetch/src/utils/is-redirect.js","turbopack:///[project]/node_modules/node-fetch/src/request.js","turbopack:///[project]/node_modules/node-fetch/src/utils/referrer.js","turbopack:///[project]/node_modules/node-fetch/src/index.js","turbopack:///[project]/node_modules/node-fetch/src/errors/base.js","turbopack:///[project]/node_modules/node-fetch/src/utils/get-search.js","turbopack:///[project]/node_modules/node-fetch/src/errors/abort-error.js","turbopack:///[project]/node_modules/data-uri-to-buffer/src/index.ts","turbopack:///[project]/node_modules/node-fetch/src/body.js","turbopack:///[project]/node_modules/node-fetch/src/headers.js","turbopack:///[project]/node_modules/node-fetch/src/response.js","turbopack:///[project]/node_modules/node-fetch/src/errors/fetch-error.js"],"sourcesContent":["/**\n * Is.js\n *\n * Object type checks.\n */\n\nconst NAME = Symbol.toStringTag;\n\n/**\n * Check if `obj` is a URLSearchParams object\n * ref: https://github.com/node-fetch/node-fetch/issues/296#issuecomment-307598143\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nexport const isURLSearchParameters = object => {\n\treturn (\n\t\ttypeof object === 'object' &&\n\t\ttypeof object.append === 'function' &&\n\t\ttypeof object.delete === 'function' &&\n\t\ttypeof object.get === 'function' &&\n\t\ttypeof object.getAll === 'function' &&\n\t\ttypeof object.has === 'function' &&\n\t\ttypeof object.set === 'function' &&\n\t\ttypeof object.sort === 'function' &&\n\t\tobject[NAME] === 'URLSearchParams'\n\t);\n};\n\n/**\n * Check if `object` is a W3C `Blob` object (which `File` inherits from)\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nexport const isBlob = object => {\n\treturn (\n\t\tobject &&\n\t\ttypeof object === 'object' &&\n\t\ttypeof object.arrayBuffer === 'function' &&\n\t\ttypeof object.type === 'string' &&\n\t\ttypeof object.stream === 'function' &&\n\t\ttypeof object.constructor === 'function' &&\n\t\t/^(Blob|File)$/.test(object[NAME])\n\t);\n};\n\n/**\n * Check if `obj` is an instance of AbortSignal.\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nexport const isAbortSignal = object => {\n\treturn (\n\t\ttypeof object === 'object' && (\n\t\t\tobject[NAME] === 'AbortSignal' ||\n\t\t\tobject[NAME] === 'EventTarget'\n\t\t)\n\t);\n};\n\n/**\n * isDomainOrSubdomain reports whether sub is a subdomain (or exact match) of\n * the parent domain.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nexport const isDomainOrSubdomain = (destination, original) => {\n\tconst orig = new URL(original).hostname;\n\tconst dest = new URL(destination).hostname;\n\n\treturn orig === dest || orig.endsWith(`.${dest}`);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nexport const isSameProtocol = (destination, original) => {\n\tconst orig = new URL(original).protocol;\n\tconst dest = new URL(destination).protocol;\n\n\treturn orig === dest;\n};\n","const redirectStatus = new Set([301, 302, 303, 307, 308]);\n\n/**\n * Redirect code matching\n *\n * @param {number} code - Status code\n * @return {boolean}\n */\nexport const isRedirect = code => {\n\treturn redirectStatus.has(code);\n};\n","/**\n * Request.js\n *\n * Request class contains server only options\n *\n * All spec algorithm step numbers are based on https://fetch.spec.whatwg.org/commit-snapshots/ae716822cb3a61843226cd090eefc6589446c1d2/.\n */\n\nimport {format as formatUrl} from 'node:url';\nimport {deprecate} from 'node:util';\nimport Headers from './headers.js';\nimport Body, {clone, extractContentType, getTotalBytes} from './body.js';\nimport {isAbortSignal} from './utils/is.js';\nimport {getSearch} from './utils/get-search.js';\nimport {\n\tvalidateReferrerPolicy, determineRequestsReferrer, DEFAULT_REFERRER_POLICY\n} from './utils/referrer.js';\n\nconst INTERNALS = Symbol('Request internals');\n\n/**\n * Check if `obj` is an instance of Request.\n *\n * @param  {*} object\n * @return {boolean}\n */\nconst isRequest = object => {\n\treturn (\n\t\ttypeof object === 'object' &&\n\t\ttypeof object[INTERNALS] === 'object'\n\t);\n};\n\nconst doBadDataWarn = deprecate(() => {},\n\t'.data is not a valid RequestInit property, use .body instead',\n\t'https://github.com/node-fetch/node-fetch/issues/1000 (request)');\n\n/**\n * Request class\n *\n * Ref: https://fetch.spec.whatwg.org/#request-class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nexport default class Request extends Body {\n\tconstructor(input, init = {}) {\n\t\tlet parsedURL;\n\n\t\t// Normalize input and force URL to be encoded as UTF-8 (https://github.com/node-fetch/node-fetch/issues/245)\n\t\tif (isRequest(input)) {\n\t\t\tparsedURL = new URL(input.url);\n\t\t} else {\n\t\t\tparsedURL = new URL(input);\n\t\t\tinput = {};\n\t\t}\n\n\t\tif (parsedURL.username !== '' || parsedURL.password !== '') {\n\t\t\tthrow new TypeError(`${parsedURL} is an url with embedded credentials.`);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tif (/^(delete|get|head|options|post|put)$/i.test(method)) {\n\t\t\tmethod = method.toUpperCase();\n\t\t}\n\n\t\tif (!isRequest(init) && 'data' in init) {\n\t\t\tdoBadDataWarn();\n\t\t}\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tif ((init.body != null || (isRequest(input) && input.body !== null)) &&\n\t\t\t(method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tconst inputBody = init.body ?\n\t\t\tinit.body :\n\t\t\t(isRequest(input) && input.body !== null ?\n\t\t\t\tclone(input) :\n\t\t\t\tnull);\n\n\t\tsuper(inputBody, {\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody !== null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody, this);\n\t\t\tif (contentType) {\n\t\t\t\theaders.set('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ?\n\t\t\tinput.signal :\n\t\t\tnull;\n\t\tif ('signal' in init) {\n\t\t\tsignal = init.signal;\n\t\t}\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal or EventTarget');\n\t\t}\n\n\t\t// §5.4, Request constructor steps, step 15.1\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tlet referrer = init.referrer == null ? input.referrer : init.referrer;\n\t\tif (referrer === '') {\n\t\t\t// §5.4, Request constructor steps, step 15.2\n\t\t\treferrer = 'no-referrer';\n\t\t} else if (referrer) {\n\t\t\t// §5.4, Request constructor steps, step 15.3.1, 15.3.2\n\t\t\tconst parsedReferrer = new URL(referrer);\n\t\t\t// §5.4, Request constructor steps, step 15.3.3, 15.3.4\n\t\t\treferrer = /^about:(\\/\\/)?client$/.test(parsedReferrer) ? 'client' : parsedReferrer;\n\t\t} else {\n\t\t\treferrer = undefined;\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal,\n\t\t\treferrer\n\t\t};\n\n\t\t// Node-fetch-only options\n\t\tthis.follow = init.follow === undefined ? (input.follow === undefined ? 20 : input.follow) : init.follow;\n\t\tthis.compress = init.compress === undefined ? (input.compress === undefined ? true : input.compress) : init.compress;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t\tthis.highWaterMark = init.highWaterMark || input.highWaterMark || 16384;\n\t\tthis.insecureHTTPParser = init.insecureHTTPParser || input.insecureHTTPParser || false;\n\n\t\t// §5.4, Request constructor steps, step 16.\n\t\t// Default is empty string per https://fetch.spec.whatwg.org/#concept-request-referrer-policy\n\t\tthis.referrerPolicy = init.referrerPolicy || input.referrerPolicy || '';\n\t}\n\n\t/** @returns {string} */\n\tget method() {\n\t\treturn this[INTERNALS].method;\n\t}\n\n\t/** @returns {string} */\n\tget url() {\n\t\treturn formatUrl(this[INTERNALS].parsedURL);\n\t}\n\n\t/** @returns {Headers} */\n\tget headers() {\n\t\treturn this[INTERNALS].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS].redirect;\n\t}\n\n\t/** @returns {AbortSignal} */\n\tget signal() {\n\t\treturn this[INTERNALS].signal;\n\t}\n\n\t// https://fetch.spec.whatwg.org/#dom-request-referrer\n\tget referrer() {\n\t\tif (this[INTERNALS].referrer === 'no-referrer') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (this[INTERNALS].referrer === 'client') {\n\t\t\treturn 'about:client';\n\t\t}\n\n\t\tif (this[INTERNALS].referrer) {\n\t\t\treturn this[INTERNALS].referrer.toString();\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tget referrerPolicy() {\n\t\treturn this[INTERNALS].referrerPolicy;\n\t}\n\n\tset referrerPolicy(referrerPolicy) {\n\t\tthis[INTERNALS].referrerPolicy = validateReferrerPolicy(referrerPolicy);\n\t}\n\n\t/**\n\t * Clone this request\n\t *\n\t * @return  Request\n\t */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'Request';\n\t}\n}\n\nObject.defineProperties(Request.prototype, {\n\tmethod: {enumerable: true},\n\turl: {enumerable: true},\n\theaders: {enumerable: true},\n\tredirect: {enumerable: true},\n\tclone: {enumerable: true},\n\tsignal: {enumerable: true},\n\treferrer: {enumerable: true},\n\treferrerPolicy: {enumerable: true}\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param {Request} request - A Request instance\n * @return The options object to be passed to http.request\n */\nexport const getNodeRequestOptions = request => {\n\tconst {parsedURL} = request[INTERNALS];\n\tconst headers = new Headers(request[INTERNALS].headers);\n\n\t// Fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body === null && /^(post|put)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\n\tif (request.body !== null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\t// Set Content-Length if totalBytes is a number (that is not NaN)\n\t\tif (typeof totalBytes === 'number' && !Number.isNaN(totalBytes)) {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// 4.1. Main fetch, step 2.6\n\t// > If request's referrer policy is the empty string, then set request's referrer policy to the\n\t// > default referrer policy.\n\tif (request.referrerPolicy === '') {\n\t\trequest.referrerPolicy = DEFAULT_REFERRER_POLICY;\n\t}\n\n\t// 4.1. Main fetch, step 2.7\n\t// > If request's referrer is not \"no-referrer\", set request's referrer to the result of invoking\n\t// > determine request's referrer.\n\tif (request.referrer && request.referrer !== 'no-referrer') {\n\t\trequest[INTERNALS].referrer = determineRequestsReferrer(request);\n\t} else {\n\t\trequest[INTERNALS].referrer = 'no-referrer';\n\t}\n\n\t// 4.5. HTTP-network-or-cache fetch, step 6.9\n\t// > If httpRequest's referrer is a URL, then append `Referer`/httpRequest's referrer, serialized\n\t// >  and isomorphic encoded, to httpRequest's header list.\n\tif (request[INTERNALS].referrer instanceof URL) {\n\t\theaders.set('Referer', request.referrer);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip, deflate, br');\n\t}\n\n\tlet {agent} = request;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\tconst search = getSearch(parsedURL);\n\n\t// Pass the full URL directly to request(), but overwrite the following\n\t// options:\n\tconst options = {\n\t\t// Overwrite search to retain trailing ? (issue #776)\n\t\tpath: parsedURL.pathname + search,\n\t\t// The following options are not expressed in the URL\n\t\tmethod: request.method,\n\t\theaders: headers[Symbol.for('nodejs.util.inspect.custom')](),\n\t\tinsecureHTTPParser: request.insecureHTTPParser,\n\t\tagent\n\t};\n\n\treturn {\n\t\t/** @type {URL} */\n\t\tparsedURL,\n\t\toptions\n\t};\n};\n","import {isIP} from 'node:net';\n\n/**\n * @external URL\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/URL|URL}\n */\n\n/**\n * @module utils/referrer\n * @private\n */\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#strip-url|Referrer Policy §8.4. Strip url for use as a referrer}\n * @param {string} URL\n * @param {boolean} [originOnly=false]\n */\nexport function stripURLForUseAsAReferrer(url, originOnly = false) {\n\t// 1. If url is null, return no referrer.\n\tif (url == null) { // eslint-disable-line no-eq-null, eqeqeq\n\t\treturn 'no-referrer';\n\t}\n\n\turl = new URL(url);\n\n\t// 2. If url's scheme is a local scheme, then return no referrer.\n\tif (/^(about|blob|data):$/.test(url.protocol)) {\n\t\treturn 'no-referrer';\n\t}\n\n\t// 3. Set url's username to the empty string.\n\turl.username = '';\n\n\t// 4. Set url's password to null.\n\t// Note: `null` appears to be a mistake as this actually results in the password being `\"null\"`.\n\turl.password = '';\n\n\t// 5. Set url's fragment to null.\n\t// Note: `null` appears to be a mistake as this actually results in the fragment being `\"#null\"`.\n\turl.hash = '';\n\n\t// 6. If the origin-only flag is true, then:\n\tif (originOnly) {\n\t\t// 6.1. Set url's path to null.\n\t\t// Note: `null` appears to be a mistake as this actually results in the path being `\"/null\"`.\n\t\turl.pathname = '';\n\n\t\t// 6.2. Set url's query to null.\n\t\t// Note: `null` appears to be a mistake as this actually results in the query being `\"?null\"`.\n\t\turl.search = '';\n\t}\n\n\t// 7. Return url.\n\treturn url;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#enumdef-referrerpolicy|enum ReferrerPolicy}\n */\nexport const ReferrerPolicy = new Set([\n\t'',\n\t'no-referrer',\n\t'no-referrer-when-downgrade',\n\t'same-origin',\n\t'origin',\n\t'strict-origin',\n\t'origin-when-cross-origin',\n\t'strict-origin-when-cross-origin',\n\t'unsafe-url'\n]);\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#default-referrer-policy|default referrer policy}\n */\nexport const DEFAULT_REFERRER_POLICY = 'strict-origin-when-cross-origin';\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#referrer-policies|Referrer Policy §3. Referrer Policies}\n * @param {string} referrerPolicy\n * @returns {string} referrerPolicy\n */\nexport function validateReferrerPolicy(referrerPolicy) {\n\tif (!ReferrerPolicy.has(referrerPolicy)) {\n\t\tthrow new TypeError(`Invalid referrerPolicy: ${referrerPolicy}`);\n\t}\n\n\treturn referrerPolicy;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-secure-contexts/#is-origin-trustworthy|Referrer Policy §3.2. Is origin potentially trustworthy?}\n * @param {external:URL} url\n * @returns `true`: \"Potentially Trustworthy\", `false`: \"Not Trustworthy\"\n */\nexport function isOriginPotentiallyTrustworthy(url) {\n\t// 1. If origin is an opaque origin, return \"Not Trustworthy\".\n\t// Not applicable\n\n\t// 2. Assert: origin is a tuple origin.\n\t// Not for implementations\n\n\t// 3. If origin's scheme is either \"https\" or \"wss\", return \"Potentially Trustworthy\".\n\tif (/^(http|ws)s:$/.test(url.protocol)) {\n\t\treturn true;\n\t}\n\n\t// 4. If origin's host component matches one of the CIDR notations 127.0.0.0/8 or ::1/128 [RFC4632], return \"Potentially Trustworthy\".\n\tconst hostIp = url.host.replace(/(^\\[)|(]$)/g, '');\n\tconst hostIPVersion = isIP(hostIp);\n\n\tif (hostIPVersion === 4 && /^127\\./.test(hostIp)) {\n\t\treturn true;\n\t}\n\n\tif (hostIPVersion === 6 && /^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(hostIp)) {\n\t\treturn true;\n\t}\n\n\t// 5. If origin's host component is \"localhost\" or falls within \".localhost\", and the user agent conforms to the name resolution rules in [let-localhost-be-localhost], return \"Potentially Trustworthy\".\n\t// We are returning FALSE here because we cannot ensure conformance to\n\t// let-localhost-be-loalhost (https://tools.ietf.org/html/draft-west-let-localhost-be-localhost)\n\tif (url.host === 'localhost' || url.host.endsWith('.localhost')) {\n\t\treturn false;\n\t}\n\n\t// 6. If origin's scheme component is file, return \"Potentially Trustworthy\".\n\tif (url.protocol === 'file:') {\n\t\treturn true;\n\t}\n\n\t// 7. If origin's scheme component is one which the user agent considers to be authenticated, return \"Potentially Trustworthy\".\n\t// Not supported\n\n\t// 8. If origin has been configured as a trustworthy origin, return \"Potentially Trustworthy\".\n\t// Not supported\n\n\t// 9. Return \"Not Trustworthy\".\n\treturn false;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-secure-contexts/#is-url-trustworthy|Referrer Policy §3.3. Is url potentially trustworthy?}\n * @param {external:URL} url\n * @returns `true`: \"Potentially Trustworthy\", `false`: \"Not Trustworthy\"\n */\nexport function isUrlPotentiallyTrustworthy(url) {\n\t// 1. If url is \"about:blank\" or \"about:srcdoc\", return \"Potentially Trustworthy\".\n\tif (/^about:(blank|srcdoc)$/.test(url)) {\n\t\treturn true;\n\t}\n\n\t// 2. If url's scheme is \"data\", return \"Potentially Trustworthy\".\n\tif (url.protocol === 'data:') {\n\t\treturn true;\n\t}\n\n\t// Note: The origin of blob: and filesystem: URLs is the origin of the context in which they were\n\t// created. Therefore, blobs created in a trustworthy origin will themselves be potentially\n\t// trustworthy.\n\tif (/^(blob|filesystem):$/.test(url.protocol)) {\n\t\treturn true;\n\t}\n\n\t// 3. Return the result of executing §3.2 Is origin potentially trustworthy? on url's origin.\n\treturn isOriginPotentiallyTrustworthy(url);\n}\n\n/**\n * Modifies the referrerURL to enforce any extra security policy considerations.\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy §8.3. Determine request's Referrer}, step 7\n * @callback module:utils/referrer~referrerURLCallback\n * @param {external:URL} referrerURL\n * @returns {external:URL} modified referrerURL\n */\n\n/**\n * Modifies the referrerOrigin to enforce any extra security policy considerations.\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy §8.3. Determine request's Referrer}, step 7\n * @callback module:utils/referrer~referrerOriginCallback\n * @param {external:URL} referrerOrigin\n * @returns {external:URL} modified referrerOrigin\n */\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy §8.3. Determine request's Referrer}\n * @param {Request} request\n * @param {object} o\n * @param {module:utils/referrer~referrerURLCallback} o.referrerURLCallback\n * @param {module:utils/referrer~referrerOriginCallback} o.referrerOriginCallback\n * @returns {external:URL} Request's referrer\n */\nexport function determineRequestsReferrer(request, {referrerURLCallback, referrerOriginCallback} = {}) {\n\t// There are 2 notes in the specification about invalid pre-conditions.  We return null, here, for\n\t// these cases:\n\t// > Note: If request's referrer is \"no-referrer\", Fetch will not call into this algorithm.\n\t// > Note: If request's referrer policy is the empty string, Fetch will not call into this\n\t// > algorithm.\n\tif (request.referrer === 'no-referrer' || request.referrerPolicy === '') {\n\t\treturn null;\n\t}\n\n\t// 1. Let policy be request's associated referrer policy.\n\tconst policy = request.referrerPolicy;\n\n\t// 2. Let environment be request's client.\n\t// not applicable to node.js\n\n\t// 3. Switch on request's referrer:\n\tif (request.referrer === 'about:client') {\n\t\treturn 'no-referrer';\n\t}\n\n\t// \"a URL\": Let referrerSource be request's referrer.\n\tconst referrerSource = request.referrer;\n\n\t// 4. Let request's referrerURL be the result of stripping referrerSource for use as a referrer.\n\tlet referrerURL = stripURLForUseAsAReferrer(referrerSource);\n\n\t// 5. Let referrerOrigin be the result of stripping referrerSource for use as a referrer, with the\n\t//    origin-only flag set to true.\n\tlet referrerOrigin = stripURLForUseAsAReferrer(referrerSource, true);\n\n\t// 6. If the result of serializing referrerURL is a string whose length is greater than 4096, set\n\t//    referrerURL to referrerOrigin.\n\tif (referrerURL.toString().length > 4096) {\n\t\treferrerURL = referrerOrigin;\n\t}\n\n\t// 7. The user agent MAY alter referrerURL or referrerOrigin at this point to enforce arbitrary\n\t//    policy considerations in the interests of minimizing data leakage. For example, the user\n\t//    agent could strip the URL down to an origin, modify its host, replace it with an empty\n\t//    string, etc.\n\tif (referrerURLCallback) {\n\t\treferrerURL = referrerURLCallback(referrerURL);\n\t}\n\n\tif (referrerOriginCallback) {\n\t\treferrerOrigin = referrerOriginCallback(referrerOrigin);\n\t}\n\n\t// 8.Execute the statements corresponding to the value of policy:\n\tconst currentURL = new URL(request.url);\n\n\tswitch (policy) {\n\t\tcase 'no-referrer':\n\t\t\treturn 'no-referrer';\n\n\t\tcase 'origin':\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'unsafe-url':\n\t\t\treturn referrerURL;\n\n\t\tcase 'strict-origin':\n\t\t\t// 1. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 2. Return referrerOrigin.\n\t\t\treturn referrerOrigin.toString();\n\n\t\tcase 'strict-origin-when-cross-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// 2. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 3. Return referrerOrigin.\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'same-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// 2. Return no referrer.\n\t\t\treturn 'no-referrer';\n\n\t\tcase 'origin-when-cross-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// Return referrerOrigin.\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'no-referrer-when-downgrade':\n\t\t\t// 1. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 2. Return referrerURL.\n\t\t\treturn referrerURL;\n\n\t\tdefault:\n\t\t\tthrow new TypeError(`Invalid referrerPolicy: ${policy}`);\n\t}\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#parse-referrer-policy-from-header|Referrer Policy §8.1. Parse a referrer policy from a Referrer-Policy header}\n * @param {Headers} headers Response headers\n * @returns {string} policy\n */\nexport function parseReferrerPolicyFromHeader(headers) {\n\t// 1. Let policy-tokens be the result of extracting header list values given `Referrer-Policy`\n\t//    and response’s header list.\n\tconst policyTokens = (headers.get('referrer-policy') || '').split(/[,\\s]+/);\n\n\t// 2. Let policy be the empty string.\n\tlet policy = '';\n\n\t// 3. For each token in policy-tokens, if token is a referrer policy and token is not the empty\n\t//    string, then set policy to token.\n\t// Note: This algorithm loops over multiple policy values to allow deployment of new policy\n\t// values with fallbacks for older user agents, as described in § 11.1 Unknown Policy Values.\n\tfor (const token of policyTokens) {\n\t\tif (token && ReferrerPolicy.has(token)) {\n\t\t\tpolicy = token;\n\t\t}\n\t}\n\n\t// 4. Return policy.\n\treturn policy;\n}\n","/**\n * Index.js\n *\n * a request API compatible with window.fetch\n *\n * All spec algorithm step numbers are based on https://fetch.spec.whatwg.org/commit-snapshots/ae716822cb3a61843226cd090eefc6589446c1d2/.\n */\n\nimport http from 'node:http';\nimport https from 'node:https';\nimport zlib from 'node:zlib';\nimport Stream, {PassThrough, pipeline as pump} from 'node:stream';\nimport {Buffer} from 'node:buffer';\n\nimport dataUriToBuffer from 'data-uri-to-buffer';\n\nimport {writeToStream, clone} from './body.js';\nimport Response from './response.js';\nimport Headers, {fromRawHeaders} from './headers.js';\nimport Request, {getNodeRequestOptions} from './request.js';\nimport {FetchError} from './errors/fetch-error.js';\nimport {AbortError} from './errors/abort-error.js';\nimport {isRedirect} from './utils/is-redirect.js';\nimport {FormData} from 'formdata-polyfill/esm.min.js';\nimport {isDomainOrSubdomain, isSameProtocol} from './utils/is.js';\nimport {parseReferrerPolicyFromHeader} from './utils/referrer.js';\nimport {\n\tBlob,\n\tFile,\n\tfileFromSync,\n\tfileFrom,\n\tblobFromSync,\n\tblobFrom\n} from 'fetch-blob/from.js';\n\nexport {FormData, Headers, Request, Response, FetchError, AbortError, isRedirect};\nexport {Blob, File, fileFromSync, fileFrom, blobFromSync, blobFrom};\n\nconst supportedSchemas = new Set(['data:', 'http:', 'https:']);\n\n/**\n * Fetch function\n *\n * @param   {string | URL | import('./request').default} url - Absolute url or Request instance\n * @param   {*} [options_] - Fetch options\n * @return  {Promise<import('./response').default>}\n */\nexport default async function fetch(url, options_) {\n\treturn new Promise((resolve, reject) => {\n\t\t// Build request object\n\t\tconst request = new Request(url, options_);\n\t\tconst {parsedURL, options} = getNodeRequestOptions(request);\n\t\tif (!supportedSchemas.has(parsedURL.protocol)) {\n\t\t\tthrow new TypeError(`node-fetch cannot load ${url}. URL scheme \"${parsedURL.protocol.replace(/:$/, '')}\" is not supported.`);\n\t\t}\n\n\t\tif (parsedURL.protocol === 'data:') {\n\t\t\tconst data = dataUriToBuffer(request.url);\n\t\t\tconst response = new Response(data, {headers: {'Content-Type': data.typeFull}});\n\t\t\tresolve(response);\n\t\t\treturn;\n\t\t}\n\n\t\t// Wrap http.request into fetch\n\t\tconst send = (parsedURL.protocol === 'https:' ? https : http).request;\n\t\tconst {signal} = request;\n\t\tlet response = null;\n\n\t\tconst abort = () => {\n\t\t\tconst error = new AbortError('The operation was aborted.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\n\t\t\tif (!response || !response.body) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = () => {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// Send request\n\t\tconst request_ = send(parsedURL.toString(), options);\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tconst finalize = () => {\n\t\t\trequest_.abort();\n\t\t\tif (signal) {\n\t\t\t\tsignal.removeEventListener('abort', abortAndFinalize);\n\t\t\t}\n\t\t};\n\n\t\trequest_.on('error', error => {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${error.message}`, 'system', error));\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(request_, error => {\n\t\t\tif (response && response.body) {\n\t\t\t\tresponse.body.destroy(error);\n\t\t\t}\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (process.version < 'v14') {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\trequest_.on('socket', s => {\n\t\t\t\tlet endedWithEventsCount;\n\t\t\t\ts.prependListener('end', () => {\n\t\t\t\t\tendedWithEventsCount = s._eventsCount;\n\t\t\t\t});\n\t\t\t\ts.prependListener('close', hadError => {\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && endedWithEventsCount < s._eventsCount && !hadError) {\n\t\t\t\t\t\tconst error = new Error('Premature close');\n\t\t\t\t\t\terror.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\trequest_.on('response', response_ => {\n\t\t\trequest_.setTimeout(0);\n\t\t\tconst headers = fromRawHeaders(response_.rawHeaders);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (isRedirect(response_.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL(location, request.url);\n\t\t\t\t} catch {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// Nothing to do\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow': {\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOptions = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: clone(request),\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\tsize: request.size,\n\t\t\t\t\t\t\treferrer: request.referrer,\n\t\t\t\t\t\t\treferrerPolicy: request.referrerPolicy\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// when forwarding sensitive headers like \"Authorization\",\n\t\t\t\t\t\t// \"WWW-Authenticate\", and \"Cookie\" to untrusted targets,\n\t\t\t\t\t\t// headers will be ignored when following a redirect to a domain\n\t\t\t\t\t\t// that is not a subdomain match or exact match of the initial domain.\n\t\t\t\t\t\t// For example, a redirect from \"foo.com\" to either \"foo.com\" or \"sub.foo.com\"\n\t\t\t\t\t\t// will forward the sensitive headers, but a redirect to \"bar.com\" will not.\n\t\t\t\t\t\t// headers will also be ignored when following a redirect to a domain using\n\t\t\t\t\t\t// a different protocol. For example, a redirect from \"https://foo.com\" to \"http://foo.com\"\n\t\t\t\t\t\t// will not forward the sensitive headers\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOptions.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (response_.statusCode !== 303 && request.body && options_.body instanceof Stream.Readable) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (response_.statusCode === 303 || ((response_.statusCode === 301 || response_.statusCode === 302) && request.method === 'POST')) {\n\t\t\t\t\t\t\trequestOptions.method = 'GET';\n\t\t\t\t\t\t\trequestOptions.body = undefined;\n\t\t\t\t\t\t\trequestOptions.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 14\n\t\t\t\t\t\tconst responseReferrerPolicy = parseReferrerPolicyFromHeader(headers);\n\t\t\t\t\t\tif (responseReferrerPolicy) {\n\t\t\t\t\t\t\trequestOptions.referrerPolicy = responseReferrerPolicy;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOptions)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn reject(new TypeError(`Redirect option '${request.redirect}' is not a valid value of RequestRedirect`));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Prepare response\n\t\t\tif (signal) {\n\t\t\t\tresponse_.once('end', () => {\n\t\t\t\t\tsignal.removeEventListener('abort', abortAndFinalize);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet body = pump(response_, new PassThrough(), error => {\n\t\t\t\tif (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// see https://github.com/nodejs/node/pull/29376\n\t\t\t/* c8 ignore next 3 */\n\t\t\tif (process.version < 'v12.10') {\n\t\t\t\tresponse_.on('aborted', abortAndFinalize);\n\t\t\t}\n\n\t\t\tconst responseOptions = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: response_.statusCode,\n\t\t\t\tstatusText: response_.statusMessage,\n\t\t\t\theaders,\n\t\t\t\tsize: request.size,\n\t\t\t\tcounter: request.counter,\n\t\t\t\thighWaterMark: request.highWaterMark\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || response_.statusCode === 204 || response_.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// For gzip\n\t\t\tif (codings === 'gzip' || codings === 'x-gzip') {\n\t\t\t\tbody = pump(body, zlib.createGunzip(zlibOptions), error => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For deflate\n\t\t\tif (codings === 'deflate' || codings === 'x-deflate') {\n\t\t\t\t// Handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = pump(response_, new PassThrough(), error => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\traw.once('data', chunk => {\n\t\t\t\t\t// See http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = pump(body, zlib.createInflate(), error => {\n\t\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = pump(body, zlib.createInflateRaw(), error => {\n\t\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.once('end', () => {\n\t\t\t\t\t// Some old IIS servers return zero-length OK deflate responses, so\n\t\t\t\t\t// 'data' is never emitted. See https://github.com/node-fetch/node-fetch/pull/903\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For br\n\t\t\tif (codings === 'br') {\n\t\t\t\tbody = pump(body, zlib.createBrotliDecompress(), error => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Otherwise, use response as-is\n\t\t\tresponse = new Response(body, responseOptions);\n\t\t\tresolve(response);\n\t\t});\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\twriteToStream(request_, request).catch(reject);\n\t});\n}\n\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tconst LAST_CHUNK = Buffer.from('0\\r\\n\\r\\n');\n\n\tlet isChunkedTransfer = false;\n\tlet properLastChunkReceived = false;\n\tlet previousChunk;\n\n\trequest.on('response', response => {\n\t\tconst {headers} = response;\n\t\tisChunkedTransfer = headers['transfer-encoding'] === 'chunked' && !headers['content-length'];\n\t});\n\n\trequest.on('socket', socket => {\n\t\tconst onSocketClose = () => {\n\t\t\tif (isChunkedTransfer && !properLastChunkReceived) {\n\t\t\t\tconst error = new Error('Premature close');\n\t\t\t\terror.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\terrorCallback(error);\n\t\t\t}\n\t\t};\n\n\t\tconst onData = buf => {\n\t\t\tproperLastChunkReceived = Buffer.compare(buf.slice(-5), LAST_CHUNK) === 0;\n\n\t\t\t// Sometimes final 0-length chunk and end of message code are in separate packets\n\t\t\tif (!properLastChunkReceived && previousChunk) {\n\t\t\t\tproperLastChunkReceived = (\n\t\t\t\t\tBuffer.compare(previousChunk.slice(-3), LAST_CHUNK.slice(0, 3)) === 0 &&\n\t\t\t\t\tBuffer.compare(buf.slice(-2), LAST_CHUNK.slice(3)) === 0\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tpreviousChunk = buf;\n\t\t};\n\n\t\tsocket.prependListener('close', onSocketClose);\n\t\tsocket.on('data', onData);\n\n\t\trequest.on('close', () => {\n\t\t\tsocket.removeListener('close', onSocketClose);\n\t\t\tsocket.removeListener('data', onData);\n\t\t});\n\t});\n}\n","export class FetchBaseError extends Error {\n\tconstructor(message, type) {\n\t\tsuper(message);\n\t\t// Hide custom error implementation details from end-users\n\t\tError.captureStackTrace(this, this.constructor);\n\n\t\tthis.type = type;\n\t}\n\n\tget name() {\n\t\treturn this.constructor.name;\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.name;\n\t}\n}\n","export const getSearch = parsedURL => {\n\tif (parsedURL.search) {\n\t\treturn parsedURL.search;\n\t}\n\n\tconst lastOffset = parsedURL.href.length - 1;\n\tconst hash = parsedURL.hash || (parsedURL.href[lastOffset] === '#' ? '#' : '');\n\treturn parsedURL.href[lastOffset - hash.length] === '?' ? '?' : '';\n};\n","import {FetchBaseError} from './base.js';\n\n/**\n * AbortError interface for cancelled requests\n */\nexport class AbortError extends FetchBaseError {\n\tconstructor(message, type = 'aborted') {\n\t\tsuper(message, type);\n\t}\n}\n","export interface MimeBuffer extends Buffer {\n\ttype: string;\n\ttypeFull: string;\n\tcharset: string;\n}\n\n/**\n * Returns a `Buffer` instance from the given data URI `uri`.\n *\n * @param {String} uri Data URI to turn into a Buffer instance\n * @returns {Buffer} Buffer instance from Data URI\n * @api public\n */\nexport function dataUriToBuffer(uri: string): MimeBuffer {\n\tif (!/^data:/i.test(uri)) {\n\t\tthrow new TypeError(\n\t\t\t'`uri` does not appear to be a Data URI (must begin with \"data:\")'\n\t\t);\n\t}\n\n\t// strip newlines\n\turi = uri.replace(/\\r?\\n/g, '');\n\n\t// split the URI up into the \"metadata\" and the \"data\" portions\n\tconst firstComma = uri.indexOf(',');\n\tif (firstComma === -1 || firstComma <= 4) {\n\t\tthrow new TypeError('malformed data: URI');\n\t}\n\n\t// remove the \"data:\" scheme and parse the metadata\n\tconst meta = uri.substring(5, firstComma).split(';');\n\n\tlet charset = '';\n\tlet base64 = false;\n\tconst type = meta[0] || 'text/plain';\n\tlet typeFull = type;\n\tfor (let i = 1; i < meta.length; i++) {\n\t\tif (meta[i] === 'base64') {\n\t\t\tbase64 = true;\n\t\t} else if(meta[i]) {\n\t\t\ttypeFull += `;${  meta[i]}`;\n\t\t\tif (meta[i].indexOf('charset=') === 0) {\n\t\t\t\tcharset = meta[i].substring(8);\n\t\t\t}\n\t\t}\n\t}\n\t// defaults to US-ASCII only if type is not provided\n\tif (!meta[0] && !charset.length) {\n\t\ttypeFull += ';charset=US-ASCII';\n\t\tcharset = 'US-ASCII';\n\t}\n\n\t// get the encoded data portion and decode URI-encoded chars\n\tconst encoding = base64 ? 'base64' : 'ascii';\n\tconst data = unescape(uri.substring(firstComma + 1));\n\tconst buffer = Buffer.from(data, encoding) as MimeBuffer;\n\n\t// set `.type` and `.typeFull` properties to MIME type\n\tbuffer.type = type;\n\tbuffer.typeFull = typeFull;\n\n\t// set the `.charset` property\n\tbuffer.charset = charset;\n\n\treturn buffer;\n}\n\nexport default dataUriToBuffer;\n","\n/**\n * Body.js\n *\n * Body interface provides common methods for Request and Response\n */\n\nimport Stream, {PassThrough} from 'node:stream';\nimport {types, deprecate, promisify} from 'node:util';\nimport {Buffer} from 'node:buffer';\n\nimport Blob from 'fetch-blob';\nimport {FormData, formDataToBlob} from 'formdata-polyfill/esm.min.js';\n\nimport {FetchError} from './errors/fetch-error.js';\nimport {FetchBaseError} from './errors/base.js';\nimport {isBlob, isURLSearchParameters} from './utils/is.js';\n\nconst pipeline = promisify(Stream.pipeline);\nconst INTERNALS = Symbol('Body internals');\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nexport default class Body {\n\tconstructor(body, {\n\t\tsize = 0\n\t} = {}) {\n\t\tlet boundary = null;\n\n\t\tif (body === null) {\n\t\t\t// Body is undefined or null\n\t\t\tbody = null;\n\t\t} else if (isURLSearchParameters(body)) {\n\t\t\t// Body is a URLSearchParams\n\t\t\tbody = Buffer.from(body.toString());\n\t\t} else if (isBlob(body)) {\n\t\t\t// Body is blob\n\t\t} else if (Buffer.isBuffer(body)) {\n\t\t\t// Body is Buffer\n\t\t} else if (types.isAnyArrayBuffer(body)) {\n\t\t\t// Body is ArrayBuffer\n\t\t\tbody = Buffer.from(body);\n\t\t} else if (ArrayBuffer.isView(body)) {\n\t\t\t// Body is ArrayBufferView\n\t\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t\t} else if (body instanceof Stream) {\n\t\t\t// Body is stream\n\t\t} else if (body instanceof FormData) {\n\t\t\t// Body is FormData\n\t\t\tbody = formDataToBlob(body);\n\t\t\tboundary = body.type.split('=')[1];\n\t\t} else {\n\t\t\t// None of the above\n\t\t\t// coerce to string then buffer\n\t\t\tbody = Buffer.from(String(body));\n\t\t}\n\n\t\tlet stream = body;\n\n\t\tif (Buffer.isBuffer(body)) {\n\t\t\tstream = Stream.Readable.from(body);\n\t\t} else if (isBlob(body)) {\n\t\t\tstream = Stream.Readable.from(body.stream());\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\tbody,\n\t\t\tstream,\n\t\t\tboundary,\n\t\t\tdisturbed: false,\n\t\t\terror: null\n\t\t};\n\t\tthis.size = size;\n\n\t\tif (body instanceof Stream) {\n\t\t\tbody.on('error', error_ => {\n\t\t\t\tconst error = error_ instanceof FetchBaseError ?\n\t\t\t\t\terror_ :\n\t\t\t\t\tnew FetchError(`Invalid response body while trying to fetch ${this.url}: ${error_.message}`, 'system', error_);\n\t\t\t\tthis[INTERNALS].error = error;\n\t\t\t});\n\t\t}\n\t}\n\n\tget body() {\n\t\treturn this[INTERNALS].stream;\n\t}\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t}\n\n\t/**\n\t * Decode response as ArrayBuffer\n\t *\n\t * @return  Promise\n\t */\n\tasync arrayBuffer() {\n\t\tconst {buffer, byteOffset, byteLength} = await consumeBody(this);\n\t\treturn buffer.slice(byteOffset, byteOffset + byteLength);\n\t}\n\n\tasync formData() {\n\t\tconst ct = this.headers.get('content-type');\n\n\t\tif (ct.startsWith('application/x-www-form-urlencoded')) {\n\t\t\tconst formData = new FormData();\n\t\t\tconst parameters = new URLSearchParams(await this.text());\n\n\t\t\tfor (const [name, value] of parameters) {\n\t\t\t\tformData.append(name, value);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t}\n\n\t\tconst {toFormData} = await import('./utils/multipart-parser.js');\n\t\treturn toFormData(this.body, ct);\n\t}\n\n\t/**\n\t * Return raw response as Blob\n\t *\n\t * @return Promise\n\t */\n\tasync blob() {\n\t\tconst ct = (this.headers && this.headers.get('content-type')) || (this[INTERNALS].body && this[INTERNALS].body.type) || '';\n\t\tconst buf = await this.arrayBuffer();\n\n\t\treturn new Blob([buf], {\n\t\t\ttype: ct\n\t\t});\n\t}\n\n\t/**\n\t * Decode response as json\n\t *\n\t * @return  Promise\n\t */\n\tasync json() {\n\t\tconst text = await this.text();\n\t\treturn JSON.parse(text);\n\t}\n\n\t/**\n\t * Decode response as text\n\t *\n\t * @return  Promise\n\t */\n\tasync text() {\n\t\tconst buffer = await consumeBody(this);\n\t\treturn new TextDecoder().decode(buffer);\n\t}\n\n\t/**\n\t * Decode response as buffer (non-spec api)\n\t *\n\t * @return  Promise\n\t */\n\tbuffer() {\n\t\treturn consumeBody(this);\n\t}\n}\n\nBody.prototype.buffer = deprecate(Body.prototype.buffer, 'Please use \\'response.arrayBuffer()\\' instead of \\'response.buffer()\\'', 'node-fetch#buffer');\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: {enumerable: true},\n\tbodyUsed: {enumerable: true},\n\tarrayBuffer: {enumerable: true},\n\tblob: {enumerable: true},\n\tjson: {enumerable: true},\n\ttext: {enumerable: true},\n\tdata: {get: deprecate(() => {},\n\t\t'data doesn\\'t exist, use json(), text(), arrayBuffer(), or body instead',\n\t\t'https://github.com/node-fetch/node-fetch/issues/1000 (response)')}\n});\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return Promise\n */\nasync function consumeBody(data) {\n\tif (data[INTERNALS].disturbed) {\n\t\tthrow new TypeError(`body used already for: ${data.url}`);\n\t}\n\n\tdata[INTERNALS].disturbed = true;\n\n\tif (data[INTERNALS].error) {\n\t\tthrow data[INTERNALS].error;\n\t}\n\n\tconst {body} = data;\n\n\t// Body is null\n\tif (body === null) {\n\t\treturn Buffer.alloc(0);\n\t}\n\n\t/* c8 ignore next 3 */\n\tif (!(body instanceof Stream)) {\n\t\treturn Buffer.alloc(0);\n\t}\n\n\t// Body is stream\n\t// get ready to actually consume the body\n\tconst accum = [];\n\tlet accumBytes = 0;\n\n\ttry {\n\t\tfor await (const chunk of body) {\n\t\t\tif (data.size > 0 && accumBytes + chunk.length > data.size) {\n\t\t\t\tconst error = new FetchError(`content size at ${data.url} over limit: ${data.size}`, 'max-size');\n\t\t\t\tbody.destroy(error);\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t}\n\t} catch (error) {\n\t\tconst error_ = error instanceof FetchBaseError ? error : new FetchError(`Invalid response body while trying to fetch ${data.url}: ${error.message}`, 'system', error);\n\t\tthrow error_;\n\t}\n\n\tif (body.readableEnded === true || body._readableState.ended === true) {\n\t\ttry {\n\t\t\tif (accum.every(c => typeof c === 'string')) {\n\t\t\t\treturn Buffer.from(accum.join(''));\n\t\t\t}\n\n\t\t\treturn Buffer.concat(accum, accumBytes);\n\t\t} catch (error) {\n\t\t\tthrow new FetchError(`Could not create Buffer from response body for ${data.url}: ${error.message}`, 'system', error);\n\t\t}\n\t} else {\n\t\tthrow new FetchError(`Premature close of server response while trying to fetch ${data.url}`);\n\t}\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed   instance       Response or Request instance\n * @param   String  highWaterMark  highWaterMark for both PassThrough body streams\n * @return  Mixed\n */\nexport const clone = (instance, highWaterMark) => {\n\tlet p1;\n\tlet p2;\n\tlet {body} = instance[INTERNALS];\n\n\t// Don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// Check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif ((body instanceof Stream) && (typeof body.getBoundary !== 'function')) {\n\t\t// Tee instance body\n\t\tp1 = new PassThrough({highWaterMark});\n\t\tp2 = new PassThrough({highWaterMark});\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// Set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].stream = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n};\n\nconst getNonSpecFormDataBoundary = deprecate(\n\tbody => body.getBoundary(),\n\t'form-data doesn\\'t follow the spec and requires special treatment. Use alternative package',\n\t'https://github.com/node-fetch/node-fetch/issues/1167'\n);\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param {any} body Any options.body input\n * @returns {string | null}\n */\nexport const extractContentType = (body, request) => {\n\t// Body is null or undefined\n\tif (body === null) {\n\t\treturn null;\n\t}\n\n\t// Body is string\n\tif (typeof body === 'string') {\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n\n\t// Body is a URLSearchParams\n\tif (isURLSearchParameters(body)) {\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t}\n\n\t// Body is blob\n\tif (isBlob(body)) {\n\t\treturn body.type || null;\n\t}\n\n\t// Body is a Buffer (Buffer, ArrayBuffer or ArrayBufferView)\n\tif (Buffer.isBuffer(body) || types.isAnyArrayBuffer(body) || ArrayBuffer.isView(body)) {\n\t\treturn null;\n\t}\n\n\tif (body instanceof FormData) {\n\t\treturn `multipart/form-data; boundary=${request[INTERNALS].boundary}`;\n\t}\n\n\t// Detect form data input from form-data module\n\tif (body && typeof body.getBoundary === 'function') {\n\t\treturn `multipart/form-data;boundary=${getNonSpecFormDataBoundary(body)}`;\n\t}\n\n\t// Body is stream - can't really do much about this\n\tif (body instanceof Stream) {\n\t\treturn null;\n\t}\n\n\t// Body constructor defaults other things to string\n\treturn 'text/plain;charset=UTF-8';\n};\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param {any} obj.body Body object from the Body instance.\n * @returns {number | null}\n */\nexport const getTotalBytes = request => {\n\tconst {body} = request[INTERNALS];\n\n\t// Body is null or undefined\n\tif (body === null) {\n\t\treturn 0;\n\t}\n\n\t// Body is Blob\n\tif (isBlob(body)) {\n\t\treturn body.size;\n\t}\n\n\t// Body is Buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn body.length;\n\t}\n\n\t// Detect form data input from form-data module\n\tif (body && typeof body.getLengthSync === 'function') {\n\t\treturn body.hasKnownLength && body.hasKnownLength() ? body.getLengthSync() : null;\n\t}\n\n\t// Body is stream\n\treturn null;\n};\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param {Stream.Writable} dest The stream to write to.\n * @param obj.body Body object from the Body instance.\n * @returns {Promise<void>}\n */\nexport const writeToStream = async (dest, {body}) => {\n\tif (body === null) {\n\t\t// Body is null\n\t\tdest.end();\n\t} else {\n\t\t// Body is stream\n\t\tawait pipeline(body, dest);\n\t}\n};\n","/**\n * Headers.js\n *\n * Headers class offers convenient helpers\n */\n\nimport {types} from 'node:util';\nimport http from 'node:http';\n\n/* c8 ignore next 9 */\nconst validateHeaderName = typeof http.validateHeaderName === 'function' ?\n\thttp.validateHeaderName :\n\tname => {\n\t\tif (!/^[\\^`\\-\\w!#$%&'*+.|~]+$/.test(name)) {\n\t\t\tconst error = new TypeError(`Header name must be a valid HTTP token [${name}]`);\n\t\t\tObject.defineProperty(error, 'code', {value: 'ERR_INVALID_HTTP_TOKEN'});\n\t\t\tthrow error;\n\t\t}\n\t};\n\n/* c8 ignore next 9 */\nconst validateHeaderValue = typeof http.validateHeaderValue === 'function' ?\n\thttp.validateHeaderValue :\n\t(name, value) => {\n\t\tif (/[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/.test(value)) {\n\t\t\tconst error = new TypeError(`Invalid character in header content [\"${name}\"]`);\n\t\t\tObject.defineProperty(error, 'code', {value: 'ERR_INVALID_CHAR'});\n\t\t\tthrow error;\n\t\t}\n\t};\n\n/**\n * @typedef {Headers | Record<string, string> | Iterable<readonly [string, string]> | Iterable<Iterable<string>>} HeadersInit\n */\n\n/**\n * This Fetch API interface allows you to perform various actions on HTTP request and response headers.\n * These actions include retrieving, setting, adding to, and removing.\n * A Headers object has an associated header list, which is initially empty and consists of zero or more name and value pairs.\n * You can add to this using methods like append() (see Examples.)\n * In all methods of this interface, header names are matched by case-insensitive byte sequence.\n *\n */\nexport default class Headers extends URLSearchParams {\n\t/**\n\t * Headers class\n\t *\n\t * @constructor\n\t * @param {HeadersInit} [init] - Response headers\n\t */\n\tconstructor(init) {\n\t\t// Validate and normalize init object in [name, value(s)][]\n\t\t/** @type {string[][]} */\n\t\tlet result = [];\n\t\tif (init instanceof Headers) {\n\t\t\tconst raw = init.raw();\n\t\t\tfor (const [name, values] of Object.entries(raw)) {\n\t\t\t\tresult.push(...values.map(value => [name, value]));\n\t\t\t}\n\t\t} else if (init == null) { // eslint-disable-line no-eq-null, eqeqeq\n\t\t\t// No op\n\t\t} else if (typeof init === 'object' && !types.isBoxedPrimitive(init)) {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\t\tif (method == null) {\n\t\t\t\t// Record<ByteString, ByteString>\n\t\t\t\tresult.push(...Object.entries(init));\n\t\t\t} else {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// Sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tresult = [...init]\n\t\t\t\t\t.map(pair => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof pair !== 'object' || types.isBoxedPrimitive(pair)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthrow new TypeError('Each header pair must be an iterable object');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [...pair];\n\t\t\t\t\t}).map(pair => {\n\t\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [...pair];\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Failed to construct \\'Headers\\': The provided value is not of type \\'(sequence<sequence<ByteString>> or record<ByteString, ByteString>)');\n\t\t}\n\n\t\t// Validate and lowercase\n\t\tresult =\n\t\t\tresult.length > 0 ?\n\t\t\t\tresult.map(([name, value]) => {\n\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\treturn [String(name).toLowerCase(), String(value)];\n\t\t\t\t}) :\n\t\t\t\tundefined;\n\n\t\tsuper(result);\n\n\t\t// Returning a Proxy that will lowercase key names, validate parameters and sort keys\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn new Proxy(this, {\n\t\t\tget(target, p, receiver) {\n\t\t\t\tswitch (p) {\n\t\t\t\t\tcase 'append':\n\t\t\t\t\tcase 'set':\n\t\t\t\t\t\treturn (name, value) => {\n\t\t\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\t\t\treturn URLSearchParams.prototype[p].call(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tString(name).toLowerCase(),\n\t\t\t\t\t\t\t\tString(value)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'delete':\n\t\t\t\t\tcase 'has':\n\t\t\t\t\tcase 'getAll':\n\t\t\t\t\t\treturn name => {\n\t\t\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\t\t\treturn URLSearchParams.prototype[p].call(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tString(name).toLowerCase()\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'keys':\n\t\t\t\t\t\treturn () => {\n\t\t\t\t\t\t\ttarget.sort();\n\t\t\t\t\t\t\treturn new Set(URLSearchParams.prototype.keys.call(target)).keys();\n\t\t\t\t\t\t};\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn Reflect.get(target, p, receiver);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t/* c8 ignore next */\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.name;\n\t}\n\n\ttoString() {\n\t\treturn Object.prototype.toString.call(this);\n\t}\n\n\tget(name) {\n\t\tconst values = this.getAll(name);\n\t\tif (values.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet value = values.join(', ');\n\t\tif (/^content-encoding$/i.test(name)) {\n\t\t\tvalue = value.toLowerCase();\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tforEach(callback, thisArg = undefined) {\n\t\tfor (const name of this.keys()) {\n\t\t\tReflect.apply(callback, thisArg, [this.get(name), name, this]);\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const name of this.keys()) {\n\t\t\tyield this.get(name);\n\t\t}\n\t}\n\n\t/**\n\t * @type {() => IterableIterator<[string, string]>}\n\t */\n\t* entries() {\n\t\tfor (const name of this.keys()) {\n\t\t\tyield [name, this.get(name)];\n\t\t}\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.entries();\n\t}\n\n\t/**\n\t * Node-fetch non-spec method\n\t * returning all headers and their values as array\n\t * @returns {Record<string, string[]>}\n\t */\n\traw() {\n\t\treturn [...this.keys()].reduce((result, key) => {\n\t\t\tresult[key] = this.getAll(key);\n\t\t\treturn result;\n\t\t}, {});\n\t}\n\n\t/**\n\t * For better console.log(headers) and also to convert Headers into Node.js Request compatible format\n\t */\n\t[Symbol.for('nodejs.util.inspect.custom')]() {\n\t\treturn [...this.keys()].reduce((result, key) => {\n\t\t\tconst values = this.getAll(key);\n\t\t\t// Http.request() only supports string as Host header.\n\t\t\t// This hack makes specifying custom Host header possible.\n\t\t\tif (key === 'host') {\n\t\t\t\tresult[key] = values[0];\n\t\t\t} else {\n\t\t\t\tresult[key] = values.length > 1 ? values : values[0];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}, {});\n\t}\n}\n\n/**\n * Re-shaping object for Web IDL tests\n * Only need to do it for overridden methods\n */\nObject.defineProperties(\n\tHeaders.prototype,\n\t['get', 'entries', 'forEach', 'values'].reduce((result, property) => {\n\t\tresult[property] = {enumerable: true};\n\t\treturn result;\n\t}, {})\n);\n\n/**\n * Create a Headers object from an http.IncomingMessage.rawHeaders, ignoring those that do\n * not conform to HTTP grammar productions.\n * @param {import('http').IncomingMessage['rawHeaders']} headers\n */\nexport function fromRawHeaders(headers = []) {\n\treturn new Headers(\n\t\theaders\n\t\t\t// Split into pairs\n\t\t\t.reduce((result, value, index, array) => {\n\t\t\t\tif (index % 2 === 0) {\n\t\t\t\t\tresult.push(array.slice(index, index + 2));\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, [])\n\t\t\t.filter(([name, value]) => {\n\t\t\t\ttry {\n\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\treturn true;\n\t\t\t\t} catch {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\n\t);\n}\n","/**\n * Response.js\n *\n * Response class provides content decoding\n */\n\nimport Headers from './headers.js';\nimport Body, {clone, extractContentType} from './body.js';\nimport {isRedirect} from './utils/is-redirect.js';\n\nconst INTERNALS = Symbol('Response internals');\n\n/**\n * Response class\n *\n * Ref: https://fetch.spec.whatwg.org/#response-class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nexport default class Response extends Body {\n\tconstructor(body = null, options = {}) {\n\t\tsuper(body, options);\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq, no-negated-condition\n\t\tconst status = options.status != null ? options.status : 200;\n\n\t\tconst headers = new Headers(options.headers);\n\n\t\tif (body !== null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body, this);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\ttype: 'default',\n\t\t\turl: options.url,\n\t\t\tstatus,\n\t\t\tstatusText: options.statusText || '',\n\t\t\theaders,\n\t\t\tcounter: options.counter,\n\t\t\thighWaterMark: options.highWaterMark\n\t\t};\n\t}\n\n\tget type() {\n\t\treturn this[INTERNALS].type;\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS].status;\n\t}\n\n\t/**\n\t * Convenience property representing if the request ended normally\n\t */\n\tget ok() {\n\t\treturn this[INTERNALS].status >= 200 && this[INTERNALS].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS].headers;\n\t}\n\n\tget highWaterMark() {\n\t\treturn this[INTERNALS].highWaterMark;\n\t}\n\n\t/**\n\t * Clone this response\n\t *\n\t * @return  Response\n\t */\n\tclone() {\n\t\treturn new Response(clone(this, this.highWaterMark), {\n\t\t\ttype: this.type,\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected,\n\t\t\tsize: this.size,\n\t\t\thighWaterMark: this.highWaterMark\n\t\t});\n\t}\n\n\t/**\n\t * @param {string} url    The URL that the new response is to originate from.\n\t * @param {number} status An optional status code for the response (e.g., 302.)\n\t * @returns {Response}    A Response object.\n\t */\n\tstatic redirect(url, status = 302) {\n\t\tif (!isRedirect(status)) {\n\t\t\tthrow new RangeError('Failed to execute \"redirect\" on \"response\": Invalid status code');\n\t\t}\n\n\t\treturn new Response(null, {\n\t\t\theaders: {\n\t\t\t\tlocation: new URL(url).toString()\n\t\t\t},\n\t\t\tstatus\n\t\t});\n\t}\n\n\tstatic error() {\n\t\tconst response = new Response(null, {status: 0, statusText: ''});\n\t\tresponse[INTERNALS].type = 'error';\n\t\treturn response;\n\t}\n\n\tstatic json(data = undefined, init = {}) {\n\t\tconst body = JSON.stringify(data);\n\n\t\tif (body === undefined) {\n\t\t\tthrow new TypeError('data is not JSON serializable');\n\t\t}\n\n\t\tconst headers = new Headers(init && init.headers);\n\n\t\tif (!headers.has('content-type')) {\n\t\t\theaders.set('content-type', 'application/json');\n\t\t}\n\n\t\treturn new Response(body, {\n\t\t\t...init,\n\t\t\theaders\n\t\t});\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'Response';\n\t}\n}\n\nObject.defineProperties(Response.prototype, {\n\ttype: {enumerable: true},\n\turl: {enumerable: true},\n\tstatus: {enumerable: true},\n\tok: {enumerable: true},\n\tredirected: {enumerable: true},\n\tstatusText: {enumerable: true},\n\theaders: {enumerable: true},\n\tclone: {enumerable: true}\n});\n","\nimport {FetchBaseError} from './base.js';\n\n/**\n * @typedef {{ address?: string, code: string, dest?: string, errno: number, info?: object, message: string, path?: string, port?: number, syscall: string}} SystemError\n*/\n\n/**\n * FetchError interface for operational errors\n */\nexport class FetchError extends FetchBaseError {\n\t/**\n\t * @param  {string} message -      Error message for human\n\t * @param  {string} [type] -        Error type for machine\n\t * @param  {SystemError} [systemError] - For Node.js system error\n\t */\n\tconstructor(message, type, systemError) {\n\t\tsuper(message, type);\n\t\t// When err.type is `system`, err.erroredSysCall contains system error and err.code contains system error code\n\t\tif (systemError) {\n\t\t\t// eslint-disable-next-line no-multi-assign\n\t\t\tthis.code = this.errno = systemError.code;\n\t\t\tthis.erroredSysCall = systemError.syscall;\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12]}